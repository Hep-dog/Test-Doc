
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_cn">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Instance.DataAggregation package &#8212; Kafka-DataProcess-Package 1.0 文档</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Kafka-DataProcess-Package 1.0 文档</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="instance-dataaggregation-package">
<h1>Instance.DataAggregation package<a class="headerlink" href="#instance-dataaggregation-package" title="永久链接至标题">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="永久链接至标题">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="Instance.DataAggregation.DFProcessFuncs.html">Instance.DataAggregation.DFProcessFuncs package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Instance.DataAggregation.DFProcessFuncs.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="Instance.DataAggregation.DFProcessFuncs.html#module-Instance.DataAggregation.DFProcessFuncs.DetectorTotalCount">Instance.DataAggregation.DFProcessFuncs.DetectorTotalCount module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Instance.DataAggregation.DFProcessFuncs.html#module-Instance.DataAggregation.DFProcessFuncs.FRPVs">Instance.DataAggregation.DFProcessFuncs.FRPVs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Instance.DataAggregation.DFProcessFuncs.html#module-Instance.DataAggregation.DFProcessFuncs.MonitorProtonDisplay">Instance.DataAggregation.DFProcessFuncs.MonitorProtonDisplay module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Instance.DataAggregation.DFProcessFuncs.html#module-Instance.DataAggregation.DFProcessFuncs.MonitorProtonToDB">Instance.DataAggregation.DFProcessFuncs.MonitorProtonToDB module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Instance.DataAggregation.DFProcessFuncs.html#module-Instance.DataAggregation.DFProcessFuncs.SRPVs">Instance.DataAggregation.DFProcessFuncs.SRPVs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Instance.DataAggregation.DFProcessFuncs.html#module-Instance.DataAggregation.DFProcessFuncs">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="永久链接至标题">¶</a></h2>
</div>
<div class="section" id="module-Instance.DataAggregation.AggreExample">
<span id="instance-dataaggregation-aggreexample-module"></span><h2>Instance.DataAggregation.AggreExample module<a class="headerlink" href="#module-Instance.DataAggregation.AggreExample" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="Instance.DataAggregation.AggreExample.AggreExample">
<em class="property">class </em><code class="descclassname">Instance.DataAggregation.AggreExample.</code><code class="descname">AggreExample</code><span class="sig-paren">(</span><em>appName</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/AggreExample.html#AggreExample"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.AggreExample.AggreExample" title="永久链接至目标">¶</a></dt>
<dd><p>基类：<a class="reference internal" href="#Instance.DataAggregation.AggregationBase.AggregationBase" title="Instance.DataAggregation.AggregationBase.AggregationBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">Instance.DataAggregation.AggregationBase.AggregationBase</span></code></a></p>
<dl class="method">
<dt id="Instance.DataAggregation.AggreExample.AggreExample.collectEventDataCounting">
<code class="descname">collectEventDataCounting</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/AggreExample.html#AggreExample.collectEventDataCounting"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.AggreExample.AggreExample.collectEventDataCounting" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Instance.DataAggregation.AggreExample.AggreExample.collectMetaDataCounting">
<code class="descname">collectMetaDataCounting</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/AggreExample.html#AggreExample.collectMetaDataCounting"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.AggreExample.AggreExample.collectMetaDataCounting" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Instance.DataAggregation.AggreExample.AggreExample.initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><em>topicParasDict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/AggreExample.html#AggreExample.initialize"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.AggreExample.AggreExample.initialize" title="永久链接至目标">¶</a></dt>
<dd><p>Initializing the function map and dataDict, to decode and storage the data.</p>
<p>Note: User should override this function corresponding the target data variable,
i.e., for scale monitor event counting and proton charge, here should be two decoding
function maps in the “funcMap” dict, which are used to collect and storage the two
data source respectively, as shown in the “AggreExample” sub-module.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Instance.DataAggregation.AggregationBase">
<span id="instance-dataaggregation-aggregationbase-module"></span><h2>Instance.DataAggregation.AggregationBase module<a class="headerlink" href="#module-Instance.DataAggregation.AggregationBase" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="Instance.DataAggregation.AggregationBase.AggregationBase">
<em class="property">class </em><code class="descclassname">Instance.DataAggregation.AggregationBase.</code><code class="descname">AggregationBase</code><span class="sig-paren">(</span><em>appName</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/AggregationBase.html#AggregationBase"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.AggregationBase.AggregationBase" title="永久链接至目标">¶</a></dt>
<dd><p>基类：<a class="reference internal" href="Core.html#Core.templateMsgProcess.MsgProcess" title="Core.templateMsgProcess.MsgProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">Core.templateMsgProcess.MsgProcess</span></code></a></p>
<p>Inherited from the template data process class “MsgProcess”
This class is the mother class used to collect the CSNS EventData/MetaData,
convert user’s target variables waited to be aggregated, to the Pandas dataframe format,
and transfer the dataframe to the data aggregation process.</p>
<dl class="method">
<dt id="Instance.DataAggregation.AggregationBase.AggregationBase.collectMessage">
<code class="descname">collectMessage</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/AggregationBase.html#AggregationBase.collectMessage"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.AggregationBase.AggregationBase.collectMessage" title="永久链接至目标">¶</a></dt>
<dd><p>Function used to collecte the target variable from each Pulse data, to the defined data dictionary.</p>
<p>Note: This function should be override by user, in order to get the corresponding variabes
in CSNS EventData/MetaData. ( User can define they functions alternatively, as shonw in the
“AggreExample” sub-module.)</p>
</dd></dl>

<dl class="method">
<dt id="Instance.DataAggregation.AggregationBase.AggregationBase.finalize">
<code class="descname">finalize</code><span class="sig-paren">(</span><em>topicParasDict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/AggregationBase.html#AggregationBase.finalize"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.AggregationBase.AggregationBase.finalize" title="永久链接至目标">¶</a></dt>
<dd><p>Abstract finalization function, user should free items here.</p>
</dd></dl>

<dl class="method">
<dt id="Instance.DataAggregation.AggregationBase.AggregationBase.getID">
<code class="descname">getID</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/AggregationBase.html#AggregationBase.getID"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.AggregationBase.AggregationBase.getID" title="永久链接至目标">¶</a></dt>
<dd><p>Getting the pulse ID from specific Pulse beam data</p>
<p>Args:</p>
<blockquote>
<div>msg (binary) : kafka  message</div></blockquote>
<p>Return: pulse ID (int)</p>
</dd></dl>

<dl class="method">
<dt id="Instance.DataAggregation.AggregationBase.AggregationBase.initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><em>topicParasDict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/AggregationBase.html#AggregationBase.initialize"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.AggregationBase.AggregationBase.initialize" title="永久链接至目标">¶</a></dt>
<dd><p>Initializing the function map and dataDict, to decode and storage the data.</p>
<p>Note: User should override this function corresponding the target data variable,
i.e., for scale monitor event counting and proton charge, here should be two decoding
function maps in the “funcMap” dict, which are used to collect and storage the two
data source respectively, as shown in the “AggreExample” sub-module.</p>
</dd></dl>

<dl class="method">
<dt id="Instance.DataAggregation.AggregationBase.AggregationBase.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>msg</em>, <em>eventCounter</em>, <em>detectorTypeCode</em>, <em>dataType</em>, <em>dataPipeDict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/AggregationBase.html#AggregationBase.run"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.AggregationBase.AggregationBase.run" title="永久链接至目标">¶</a></dt>
<dd><p>Abstract user Kafka data processing function, user should override it for his analysis.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Instance.DataAggregation.He3AllCounts">
<span id="instance-dataaggregation-he3allcounts-module"></span><h2>Instance.DataAggregation.He3AllCounts module<a class="headerlink" href="#module-Instance.DataAggregation.He3AllCounts" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="Instance.DataAggregation.He3AllCounts.He3AllCounts">
<em class="property">class </em><code class="descclassname">Instance.DataAggregation.He3AllCounts.</code><code class="descname">He3AllCounts</code><span class="sig-paren">(</span><em>appName</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/He3AllCounts.html#He3AllCounts"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.He3AllCounts.He3AllCounts" title="永久链接至目标">¶</a></dt>
<dd><p>基类：<a class="reference internal" href="#Instance.DataAggregation.AggregationBase.AggregationBase" title="Instance.DataAggregation.AggregationBase.AggregationBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">Instance.DataAggregation.AggregationBase.AggregationBase</span></code></a></p>
<dl class="method">
<dt id="Instance.DataAggregation.He3AllCounts.He3AllCounts.collectEventDataCounting">
<code class="descname">collectEventDataCounting</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/He3AllCounts.html#He3AllCounts.collectEventDataCounting"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.He3AllCounts.He3AllCounts.collectEventDataCounting" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Instance.DataAggregation.He3AllCounts.He3AllCounts.initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><em>topicParasDict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/He3AllCounts.html#He3AllCounts.initialize"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.He3AllCounts.He3AllCounts.initialize" title="永久链接至目标">¶</a></dt>
<dd><p>Initializing the function map and dataDict, to decode and storage the data.</p>
<p>Note: User should override this function corresponding the target data variable,
i.e., for scale monitor event counting and proton charge, here should be two decoding
function maps in the “funcMap” dict, which are used to collect and storage the two
data source respectively, as shown in the “AggreExample” sub-module.</p>
</dd></dl>

<dl class="method">
<dt id="Instance.DataAggregation.He3AllCounts.He3AllCounts.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>msg</em>, <em>eventCounter</em>, <em>detectorTypeCode</em>, <em>dataType</em>, <em>dataPipeDict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/He3AllCounts.html#He3AllCounts.run"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.He3AllCounts.He3AllCounts.run" title="永久链接至目标">¶</a></dt>
<dd><p>Abstract user Kafka data processing function, user should override it for his analysis.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Instance.DataAggregation.MonitorCNTvsProtonCharge">
<span id="instance-dataaggregation-monitorcntvsprotoncharge-module"></span><h2>Instance.DataAggregation.MonitorCNTvsProtonCharge module<a class="headerlink" href="#module-Instance.DataAggregation.MonitorCNTvsProtonCharge" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="Instance.DataAggregation.MonitorCNTvsProtonCharge.MonitorCNTvsProtonCharge">
<em class="property">class </em><code class="descclassname">Instance.DataAggregation.MonitorCNTvsProtonCharge.</code><code class="descname">MonitorCNTvsProtonCharge</code><span class="sig-paren">(</span><em>appName</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/MonitorCNTvsProtonCharge.html#MonitorCNTvsProtonCharge"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.MonitorCNTvsProtonCharge.MonitorCNTvsProtonCharge" title="永久链接至目标">¶</a></dt>
<dd><p>基类：<a class="reference internal" href="#Instance.DataAggregation.AggregationBase.AggregationBase" title="Instance.DataAggregation.AggregationBase.AggregationBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">Instance.DataAggregation.AggregationBase.AggregationBase</span></code></a></p>
<p>Inherited from the general data aggregation class “AggregationBase”
This class is the mother class used to collect the CSNS monitor’s EventData
and Proton beam MetaData, to scale the first counting rate with the later.</p>
<dl class="method">
<dt id="Instance.DataAggregation.MonitorCNTvsProtonCharge.MonitorCNTvsProtonCharge.collectEventDataCounting">
<code class="descname">collectEventDataCounting</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/MonitorCNTvsProtonCharge.html#MonitorCNTvsProtonCharge.collectEventDataCounting"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.MonitorCNTvsProtonCharge.MonitorCNTvsProtonCharge.collectEventDataCounting" title="永久链接至目标">¶</a></dt>
<dd><p>Collecting and storing the pulse ID and event rate of EventData.</p>
</dd></dl>

<dl class="method">
<dt id="Instance.DataAggregation.MonitorCNTvsProtonCharge.MonitorCNTvsProtonCharge.collectMetaDataCounting">
<code class="descname">collectMetaDataCounting</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/MonitorCNTvsProtonCharge.html#MonitorCNTvsProtonCharge.collectMetaDataCounting"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.MonitorCNTvsProtonCharge.MonitorCNTvsProtonCharge.collectMetaDataCounting" title="永久链接至目标">¶</a></dt>
<dd><p>Collecting and storing the pulse ID and event rate of MetaData.</p>
</dd></dl>

<dl class="method">
<dt id="Instance.DataAggregation.MonitorCNTvsProtonCharge.MonitorCNTvsProtonCharge.initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><em>topicParasDict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/MonitorCNTvsProtonCharge.html#MonitorCNTvsProtonCharge.initialize"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.MonitorCNTvsProtonCharge.MonitorCNTvsProtonCharge.initialize" title="永久链接至目标">¶</a></dt>
<dd><p>Initializing the function map and dataDict, to decode and storage the data.</p>
<p>Note: User should override this function corresponding the target data variable,
i.e., for scale monitor event counting and proton charge, here should be two decoding
function maps in the “funcMap” dict, which are used to collect and storage the two
data source respectively, as shown in the “AggreExample” sub-module.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Instance.DataAggregation.basicFuncs">
<span id="instance-dataaggregation-basicfuncs-module"></span><h2>Instance.DataAggregation.basicFuncs module<a class="headerlink" href="#module-Instance.DataAggregation.basicFuncs" title="永久链接至标题">¶</a></h2>
<dl class="function">
<dt id="Instance.DataAggregation.basicFuncs.IDToTime">
<code class="descclassname">Instance.DataAggregation.basicFuncs.</code><code class="descname">IDToTime</code><span class="sig-paren">(</span><em>pulseID</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/basicFuncs.html#IDToTime"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.basicFuncs.IDToTime" title="永久链接至目标">¶</a></dt>
<dd><p>Converting the pulse id to time in format, “%Y-%m-%d %H:%M:%S”</p>
</dd></dl>

<dl class="function">
<dt id="Instance.DataAggregation.basicFuncs.addAllDF">
<code class="descclassname">Instance.DataAggregation.basicFuncs.</code><code class="descname">addAllDF</code><span class="sig-paren">(</span><em>signalDF</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/basicFuncs.html#addAllDF"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.basicFuncs.addAllDF" title="永久链接至目标">¶</a></dt>
<dd><p>This function used to add the second to column of the aggregated dataframe results,
which is used to obtain the total counting rate of all detector modules.</p>
</dd></dl>

<dl class="function">
<dt id="Instance.DataAggregation.basicFuncs.collectData">
<code class="descclassname">Instance.DataAggregation.basicFuncs.</code><code class="descname">collectData</code><span class="sig-paren">(</span><em>resultList</em>, <em>endPoint</em>, <em>Metric</em>, <em>value</em>, <em>time_st</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/basicFuncs.html#collectData"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.basicFuncs.collectData" title="永久链接至目标">¶</a></dt>
<dd><p>Template function used to format data for further push to OpenFalcon platform</p>
<p>Args:</p>
<blockquote>
<div><p>resultList : list holds records of user target visualization results</p>
<p>endPoint (str) : name of endPoint for OpenFalcon</p>
<p>Metric (str) : name of metric for OpenFalcon</p>
<p>valaue (data): user data processing results</p>
<p>time_st      : time stamp for OpenFalcon</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="Instance.DataAggregation.basicFuncs.dfToList">
<code class="descclassname">Instance.DataAggregation.basicFuncs.</code><code class="descname">dfToList</code><span class="sig-paren">(</span><em>signalDF</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/basicFuncs.html#dfToList"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.basicFuncs.dfToList" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="Instance.DataAggregation.basicFuncs.displaySecResult">
<code class="descclassname">Instance.DataAggregation.basicFuncs.</code><code class="descname">displaySecResult</code><span class="sig-paren">(</span><em>dataList</em>, <em>pulseIDList</em>, <em>leftDataList</em>, <em>leftIDList</em>, <em>endPoint</em>, <em>metric</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/basicFuncs.html#displaySecResult"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.basicFuncs.displaySecResult" title="永久链接至目标">¶</a></dt>
<dd><p>Encapsulated function used to display the neutron counting per second.</p>
</dd></dl>

<dl class="function">
<dt id="Instance.DataAggregation.basicFuncs.firstDevideSecond">
<code class="descclassname">Instance.DataAggregation.basicFuncs.</code><code class="descname">firstDevideSecond</code><span class="sig-paren">(</span><em>signalDF</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/basicFuncs.html#firstDevideSecond"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.basicFuncs.firstDevideSecond" title="永久链接至目标">¶</a></dt>
<dd><p>First column of the aggrated dataframe result divides the second column.
(Actually, it’s the monitor event counting divide the proton beam’s results).</p>
<p>Args: signalDF, the result after monitor and pulse beam aggregations.</p>
<p>Return: List( float )</p>
</dd></dl>

<dl class="function">
<dt id="Instance.DataAggregation.basicFuncs.getSecAllCounting">
<code class="descclassname">Instance.DataAggregation.basicFuncs.</code><code class="descname">getSecAllCounting</code><span class="sig-paren">(</span><em>dataList</em>, <em>idList</em>, <em>leftDataList</em>, <em>leftIDList</em>, <em>pulseFre</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/basicFuncs.html#getSecAllCounting"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.basicFuncs.getSecAllCounting" title="永久链接至目标">¶</a></dt>
<dd><p>This function used to add the second to column of the aggregated dataframe results,
which is used to obtain the total counting rate of all detector modules.</p>
<p>Args:</p>
<blockquote>
<div><p>dataList : List of the aggregated dataframe results ( 1-end columns )</p>
<p>idList   : List of the ID column of the aggregated dataframe results ( 0 column )</p>
<p>leftDataList : left List of the aggregated dataframe results from last aggregation</p>
<p>leftIDList   : left List of the pulse ID of aggregated dataframe results from last aggregation</p>
<p>pulseFre     : CSNS pulse frequency</p>
</div></blockquote>
<dl class="docutils">
<dt>Return:</dt>
<dd>List of event rate results and the corresponding list of pulse ID</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="Instance.DataAggregation.basicFuncs.monitorDevideProton">
<code class="descclassname">Instance.DataAggregation.basicFuncs.</code><code class="descname">monitorDevideProton</code><span class="sig-paren">(</span><em>v_moni: int</em>, <em>v_proton: int</em><span class="sig-paren">)</span> &#x2192; float<a class="reference internal" href="_modules/Instance/DataAggregation/basicFuncs.html#monitorDevideProton"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.basicFuncs.monitorDevideProton" title="永久链接至目标">¶</a></dt>
<dd><p>Event rate of Monitor divides the one from proton beam.</p>
<p>Args:</p>
<blockquote>
<div><p>v_moni (int) : event rate of monitor</p>
<p>v_proton (int) : event rate of proton beam</p>
</div></blockquote>
<p>Return: float</p>
</dd></dl>

<dl class="function">
<dt id="Instance.DataAggregation.basicFuncs.onlineVisualAll">
<code class="descclassname">Instance.DataAggregation.basicFuncs.</code><code class="descname">onlineVisualAll</code><span class="sig-paren">(</span><em>resultList</em>, <em>endPoint</em>, <em>metric</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/basicFuncs.html#onlineVisualAll"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.basicFuncs.onlineVisualAll" title="永久链接至目标">¶</a></dt>
<dd><p>Standard function displays the list of results.</p>
</dd></dl>

<dl class="function">
<dt id="Instance.DataAggregation.basicFuncs.onlineVisualSingle">
<code class="descclassname">Instance.DataAggregation.basicFuncs.</code><code class="descname">onlineVisualSingle</code><span class="sig-paren">(</span><em>resultList</em>, <em>endPoint</em>, <em>metric</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/basicFuncs.html#onlineVisualSingle"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.basicFuncs.onlineVisualSingle" title="永久链接至目标">¶</a></dt>
<dd><p>Function used to display single result.</p>
</dd></dl>

<dl class="function">
<dt id="Instance.DataAggregation.basicFuncs.requestPV">
<code class="descclassname">Instance.DataAggregation.basicFuncs.</code><code class="descname">requestPV</code><span class="sig-paren">(</span><em>result</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Instance/DataAggregation/basicFuncs.html#requestPV"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.basicFuncs.requestPV" title="永久链接至目标">¶</a></dt>
<dd><p>Template function used to push collect records to OpenFalcon</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>Remove IP: which is defined in the initialization of the class
result   : the collected list of data records</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="Instance.DataAggregation.basicFuncs.timeToID">
<code class="descclassname">Instance.DataAggregation.basicFuncs.</code><code class="descname">timeToID</code><span class="sig-paren">(</span><em>standardTime: str</em><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="_modules/Instance/DataAggregation/basicFuncs.html#timeToID"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#Instance.DataAggregation.basicFuncs.timeToID" title="永久链接至目标">¶</a></dt>
<dd><p>Converting the timestamp the expected pulseID.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>standardTime : time in formate “%Y-%m-%d %H:%M:%S”</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-Instance.DataAggregation">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-Instance.DataAggregation" title="永久链接至标题">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Instance.DataAggregation package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-Instance.DataAggregation.AggreExample">Instance.DataAggregation.AggreExample module</a></li>
<li><a class="reference internal" href="#module-Instance.DataAggregation.AggregationBase">Instance.DataAggregation.AggregationBase module</a></li>
<li><a class="reference internal" href="#module-Instance.DataAggregation.He3AllCounts">Instance.DataAggregation.He3AllCounts module</a></li>
<li><a class="reference internal" href="#module-Instance.DataAggregation.MonitorCNTvsProtonCharge">Instance.DataAggregation.MonitorCNTvsProtonCharge module</a></li>
<li><a class="reference internal" href="#module-Instance.DataAggregation.basicFuncs">Instance.DataAggregation.basicFuncs module</a></li>
<li><a class="reference internal" href="#module-Instance.DataAggregation">Module contents</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/Instance.DataAggregation.rst.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="转向" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="总目录"
             >索引</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Kafka-DataProcess-Package 1.0 文档</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; 版权所有 2021, jiyizi.
      由 <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5 创建。
    </div>
  </body>
</html>